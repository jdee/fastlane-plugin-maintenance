# General-purpose Fastfile.internal for plugin maintenance

lane :release do
  rake task: :release
end

lane :install do |opts|
  if opts[:local]
    rake task: "install:local"
  else
    rake task: :install
  end
end

lane :tests do
  rake task: :default
end

lane :run_rubocop do |opts|
  command = %w(bundle exec rubocop)
  command << "-a" if opts[:correct]
  # Why?
  Dir.chdir("..") do
    sh *command
  end
end

lane :rubocop_update do
  update_rubocop
end
